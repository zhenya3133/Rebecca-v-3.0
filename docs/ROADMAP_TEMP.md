# Временная дорожная карта Rebecca-Platform

Этот файл добавлен для синхронизации статуса работы в репозитории. По завершении
текущего этапа его можно удалить. Ниже приведена актуальная версия roadmap.

```
# Дорожная карта развития Rebecca-Platform

Документ описывает пошаговый план эволюции текущего репозитория `Rebecca-Platform`
в полнофункциональную систему с мета-агентом «Ребекка», её специализированными
подагентами и непрерывным самообучением. План рассчитан на единственного
разработчика (vibecoder), работающего на локальном ПК (Windows 11 Pro, Ryzen 5
7500F, 32 ГБ RAM, RTX 5070 12 ГБ) без стартового бюджета.

## 0. Инструменты и инфраструктура (Недели 0–1)

1. **Обновить базовую среду**
   - Установить/актуализировать: Python 3.11+, Node.js 20+, Docker Desktop, Git,
     Poetry/Pipenv (по выбору), pnpm (для фронтенда), Ollama/LM Studio, CUDA 12,
     PyTorch с GPU-поддержкой.
   - Настроить VS Code/JetBrains + плагины FastAPI, TypeScript, Markdown,
     GitLens.
2. **Создать рабочие окружения**
   - Python: виртуальное окружение (`python -m venv .venv`,
     `pip install -r src/requirements.txt`).
   - Frontend: `pnpm install` (при необходимости скорректировать `package.json`).
   - Docker: проверить образы (`docker compose -f docker/docker-compose.mock.yml config`).
3. **Автоматизировать скрипты запуска**
   - Обновить `start_rebecca.ps1`/`stop_rebecca.ps1`, добавить проверки
     зависимостей, генерацию `.env`, запуск uvicorn и фронтенда.
4. **Диагностика текущего состояния**
   - Выполнить `python -m pytest -m smoke -q` (или `scripts/smoke.ps1` / `scripts/smoke.sh`), `pnpm lint`, smoke-тесты API `/health` и `/run`.
   - Зафиксировать исходный git-слепок (`git status`, `git diff`) и решить судьбу
     незакоммиченных изменений.

**Результат:** рабочая dev-среда, понятный способ запуска сервиса и baseline
метрик производительности.

## 1. Аудит и стабилизация текущего ядра (Недели 1–2)

1. **Карта архитектуры**
   - Извлечь фактические зависимости модулей (`src/*`) и сопоставить с планом в
     `docs/architecture_blueprint.md`.
   - Добавить диаграмму (PlantUML/mermaid) в `docs/ARCHITECTURE.md` для
     актуального состояния (без существенных правок текста).
2. **Тестовое покрытие**
   - Расширить smoke-тесты (покрыть `main_workflow`, `/documents/upload`,
     WebSocket `/chat/stream`).
   - К уже настроенному маркеру `smoke` добавить unit/integration suite и
     обновить GitHub Actions матрицу (расширить `.github/workflows/tests.yml`).
3. **Долги инфраструктуры**
   - Очистить TODO в `api.py` (замена `API_TOKEN`, конфигурация из `.env`).
   - Вынести in-memory зависимости (DAO, индекс, хранилище) в сервис-ладер
     (возможность подмены на PostgreSQL/Qdrant/MinIO).
4. **Документировать контролируемые параметры**
   - Сформировать `config/core.yaml` (endpoints, токены, пути к памяти, модели,
     расписания поиска новостей) и загрузку в `CoreConfig`.

**Результат:** стабильное ядро API, тесты, актуальная архитектурная карта и
конфигурационное управление.

## 2. MVP мета-агента «Ребекка» (Недели 3–6)

1. **Архитектура памяти**
   - Реализовать `MemoryContext.register_layer/get_layer`, добавить слои
     Core/Episodic/Semantic/Procedural/Vault.
   - Инкапсулировать доступ к Weaviate/Qdrant (использовать
     docker-compose.local.yml) через `VectorStoreClient`.
   - Настроить Chroma/Weaviate как fallback для локального режима.
2. **Ingest pipeline**
   - Завершить `DocumentIngestor`: обработка PDF, Markdown, Git-репозиториев
     (извлечение README, `src/**`).
   - Интегрировать Whisper для аудио/видео, OCR для изображений (pytesseract).
   - Сохранять метаданные (источник, дата загрузки, связанная задача) в Vault-слой.
3. **Ребекка как orchestrator**
   - Создать модуль `src/rebecca/meta_agent.py` с интерфейсом `ingest_sources()`,
     `plan_agent()`, `generate_playbook()`.
   - Включить мета-агента в `main_workflow` после `architect`: формирование плана
     задач для подагентов.
4. **Первый набор специализированных агентов**
   - Определить конфиги в `config/agents/*.yaml` (backend, frontend, ml, qa,
     devops).
   - Реализовать шаблон агента в `src/multi_agent/base_agent.py` и четыре
     наследника с типовыми инструментами (git, pytest, pnpm, docker, langchain).
5. **Интерфейсы взаимодействия**
   - Добавить в API эндпоинт `/agents/plan` (POST: описание цели → план работ,
     ответственные агенты).
   - Обновить фронтенд: страница «Agent Planner» с отображением плана и шагов
     выполнения.

**Результат:** Ребекка умеет поглощать материалы, строить многоуровневую память
и формировать планы разработки с распределением задач на профильных агентов.

## 3. Автоматизация обучения и RAG (Недели 7–10)

1. **Инкрементальное обучение**
   - Интегрировать LoRA/QLoRA пайплайн (PEFT, bitsandbytes) для fine-tune
     локальных моделей до 7–13 B.
   - Настроить хранение чекпоинтов в локальном `models/` с версионированием (DVC
     + S3 совместимый minio).
2. **RAG-оркестрация**
   - Добавить в `RebeccaCoreService` выбор модели и retrieval-mode (Perplexica
     API, локальный BM25, Weaviate hybrid).
   - Реализовать `HybridRetriever` с configurable weights, в том числе
     поисковый агент (Perplexica) и Sematic Graph.
3. **Автоматический мониторинг знаний**
   - Создать cron-процесс (`scheduler`) для двукратного еженедельного поиска
     новостей (GitHub trending, arXiv, блогосфера).
   - Реализовать ingestion в Vault + уведомления (email/Telegram webhook) с
     summary новых источников.
4. **Тестирование качества памяти**
   - Написать регрессионные тесты (pytest + golden files) на выборку: вопрос →
     ожидаемые ноды памяти/агенты.
   - Настроить nightly pipeline (`tests/nightly_eval.py`) с метриками coverage,
     drift, relevance.

**Результат:** Ребекка автоматически пополняет знания, умеет выполнять
retrieval по свежим материалам и настраивает подагентов на основании актуальной
информации.

## 4. Мультиагентное исполнение и автогенерация решений (Недели 11–14)

1. **LangGraph/AutoGen интеграция**
   - Добавить workflow-граф для последовательного/параллельного выполнения
     подагентов.
   - Настроить обмен сообщениями (ContextPack) и хранение истории
     взаимодействий в Episodic-слое.
2. **Автоматический генератор кода**
   - Подключить OpenAI Codex CLI (или локальный аналог через LM Studio) как
     инструмент backend/frontend агентов.
   - Настроить «pull request» пайплайн: агент формирует ветку, генерирует код,
     запускает тесты, подготавливает diff + summary.
3. **Workbench для пользователя**
   - Обновить фронтенд: мониторинг статуса агентов, лог операций, возможность
     одобрять/отклонять шаги.
   - Добавить визуализацию зависимостей задач (gantt/kanban) и интеграцию с
     issue-трекером (локальный JSON/Notion/Linear при доступности).
4. **Безопасность и политика доступа**
   - Настроить фильтры в `policy_engine` для отсечения секретов, управление
     токенами в Vault.
   - Включить аудит доступа (`observability/audit_log.py`) для действий
     агентов.

**Результат:** многоагентная система, умеющая автоматически генерировать
решения, создавать код и предоставлять понятный интерфейс контроля.

## 5. Масштабирование и метрики (Недели 15–20)

1. **Производительность и оптимизация**
   - Провести профилирование памяти/CPU (uvicorn, LangChain, Whisper) и внедрить
     кеширование (Redis/SQLite).
   - Разделить сервисы в docker-compose (api, scheduler, retriever, ingest) с
     healthchecks и зависимостями.
2. **Надёжность**
   - Настроить retry/backoff для внешних вызовов, «dead letter queue» для
     неудачных задач (RabbitMQ/Redis streams).
   - Добавить мониторинг (Prometheus/Grafana или Lightweight StatsD) с
     алертами.
3. **Метрики эффективности агентов**
   - Отслеживать task success rate, среднее время завершения, количество
     обращений к памяти, стоимость inference.
   - Визуализировать метрики в фронтенде и в `docs/metrics.md` (только если
     потребуется).
4. **Подготовка к демонстрации/пилоту**
   - Собрать демонстрационный сценарий: ingest 10–15 источников → генерация
     нового агента (например, AI-репетитор) → выпуск инструкций и кода.
   - Подготовить demo-видео и краткую презентацию.

**Результат:** стабильная, наблюдаемая платформа, готовая к пилотам и показу
заказчикам.

## 6. Путь к ARR $1M (Недели 21–36)

1. **Продуктовые пакеты**
   - Оформить три тарифа: Starter (1 агент, ручное обучение), Growth
     (мультиагент + автообучение), Enterprise (on-prem, SLA, кастомные модели).
   - Подготовить шаблоны договоров и калькулятор ROI.
2. **Маркетинг и продажи**
   - Запустить контент-план (кейсы, гайды, отчёты по новостям ИИ).
   - Настроить лидогенерацию (формы на сайте, интеграция с CRM, аналитика).
3. **Финансовая модель и KPI**
   - Построить P&L, план найма, прогноз cash-flow на 18 месяцев.
   - Определить KPI: MRR, CAC, LTV, churn, net margin, аптайм.
4. **Фандрайзинг/партнёрства**
   - Подготовить pitch deck, список потенциальных инвесторов/грантов (ФРИИ,
     IIDF, локальные VC).
   - Сформировать дорожную карту внедрения у первых 3–5 клиентов.

**Результат:** коммерчески жизнеспособная платформа с пакетом предложений,
метриками и готовностью к масштабированию.

## Сводный календарь

| Этап | Период | Ключевые результаты |
| --- | --- | --- |
| 0. Инфраструктура | Недели 0–1 | Среда разработки, автоматизированный запуск |
| 1. Аудит ядра | Недели 1–2 | Тесты, актуальная архитектура, конфигурируемый API |
| 2. MVP Ребекки | Недели 3–6 | Многоуровневая память, планирование подагентов |
| 3. Обучение и RAG | Недели 7–10 | LoRA-пайплайн, автообновление знаний, retrievers |
| 4. Мультиагенты | Недели 11–14 | LangGraph orchestration, автогенерация кода, UI |
| 5. Масштабирование | Недели 15–20 | Метрики, мониторинг, docker-оркестрация |
| 6. Коммерциализация | Недели 21–36 | Продуктовые пакеты, KPI, маркетинг и фандрайз |

## Контроль выполнения

- Еженедельный отчёт: выполненные задачи, блокеры, новые источники знаний.
- Ежедневный stand-alone лог в `memory/logs/rebecca_journal.md`
  (ингестированные материалы, решения, планы).
- Переоценка roadmap каждые 4 недели (обновление сроков и приоритетов).

## Ожидаемый итог

Через 36 недель проект должен обладать мета-агентом, который:
- Поглощает и структурирует внешние материалы (тексты, код, медиа).
- Автоматически отслеживает новые разработки и обновляет собственные знания.
- Оркестрирует специализированных агентов для проектирования, реализации и
  тестирования решений.
- Предоставляет пользователю планы, код, инструкции и контроль исполнения.
- Имеет пакет готовых предложений для монетизации и роста до ARR $1M.
```
